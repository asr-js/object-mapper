!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["object-mapper"]=t():e["object-mapper"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.JsonConvert=n.JsonConvert;var o=r(2);t.ValueCheckingMode=o.ValueCheckingMode,t.OperationMode=o.OperationMode;var i=r(7);t.JsonObject=i.JsonObject,t.JsonProperty=i.JsonProperty,t.JsonConverter=i.JsonConverter;var a=r(1);t.Any=a.Any},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.Any=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.LOGGING=2]="LOGGING"}(t.OperationMode||(t.OperationMode={})),function(e){e[e.CASE_STRICT=1]="CASE_STRICT",e[e.CASE_INSENSITIVE=2]="CASE_INSENSITIVE"}(t.PropertyMatchingRule||(t.PropertyMatchingRule={})),function(e){e[e.ALLOW_NULL=1]="ALLOW_NULL",e[e.ALLOW_OBJECT_NULL=2]="ALLOW_OBJECT_NULL",e[e.DISALLOW_NULL=3]="DISALLOW_NULL"}(t.ValueCheckingMode||(t.ValueCheckingMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.MAPPING_PROPERTY="__jsonconvert__mapping__",e.MAPPER_PROPERTY="__jsonconvert__mapper__",e.CLASS_IDENTIFIER="__jsonconvert__class_identifier__",e}();t.Settings=n;var o=function(){this.classPropertyName="",this.jsonPropertyName="",this.expectedJsonType=void 0,this.isOptional=!1,this.customConverter=null};t.MappingOptions=o},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(3),i=r(1),a=function(){function e(e,t,r,o){this._operationMode=n.OperationMode.ENABLE,this._valueCheckingMode=n.ValueCheckingMode.ALLOW_OBJECT_NULL,this._ignorePrimitiveChecks=!1,this._propertyMatchingRule=n.PropertyMatchingRule.CASE_STRICT,void 0!==e&&e in n.OperationMode&&(this.operationMode=e),void 0!==t&&t in n.ValueCheckingMode&&(this.valueCheckingMode=t),void 0!==r&&(this.ignorePrimitiveChecks=r),void 0!==o&&(this.propertyMatchingRule=o)}return Object.defineProperty(e.prototype,"operationMode",{get:function(){return this._operationMode},set:function(e){e in n.OperationMode&&(this._operationMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueCheckingMode",{get:function(){return this._valueCheckingMode},set:function(e){e in n.ValueCheckingMode&&(this._valueCheckingMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignorePrimitiveChecks",{get:function(){return this._ignorePrimitiveChecks},set:function(e){this._ignorePrimitiveChecks=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertyMatchingRule",{get:function(){return this._propertyMatchingRule},set:function(e){e in n.PropertyMatchingRule&&(this._propertyMatchingRule=e)},enumerable:!0,configurable:!0}),e.prototype.serialize=function(e){if(this.operationMode===n.OperationMode.DISABLE)return e;if(e instanceof Array)return this.serializeArray(e);if("object"==typeof e)return this.serializeObject(e);throw new Error("Fatal error in JsonConvert. Passed parameter data in JsonConvert.serialize() is not in valid format (object or array).\n")},e.prototype.serializeObject=function(e){if(this.operationMode===n.OperationMode.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===n.ValueCheckingMode.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!=typeof e||e instanceof Array)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is not of type object.\n");this.operationMode===n.OperationMode.LOGGING&&(console.log("----------"),console.log("Receiving JavaScript instance:"),console.log(e));for(var t={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];this.serializeObject_loopProperty(e,i,t)}return this.operationMode===n.OperationMode.LOGGING&&(console.log("Returning JSON object:"),console.log(t),console.log("----------")),t},e.prototype.serializeArray=function(e){if(this.operationMode===n.OperationMode.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===n.ValueCheckingMode.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is undefined. You have specified to disallow null values.\n");return e}if("object"!=typeof e||e instanceof Array==!1)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is not of type array.\n");this.operationMode===n.OperationMode.LOGGING&&(console.log("----------"),console.log("Receiving JavaScript array:"),console.log(e));for(var t=[],r=0,o=e;r<o.length;r++){var i=o[r];t.push(this.serializeObject(i))}return this.operationMode===n.OperationMode.LOGGING&&(console.log("Returning JSON array:"),console.log(t),console.log("----------")),t},e.prototype.deserialize=function(e,t){if(this.operationMode===n.OperationMode.DISABLE)return e;if(e instanceof Array)return this.deserializeArray(e,t);if("object"==typeof e)return this.deserializeObject(e,t);throw new Error("Fatal error in JsonConvert. Passed parameter json in JsonConvert.deserialize() is not in valid JSON format (object or array).\n")},e.prototype.deserializeObject=function(e,t){if(this.operationMode===n.OperationMode.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===n.ValueCheckingMode.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!=typeof e||e instanceof Array)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is not of type object.\n");this.operationMode===n.OperationMode.LOGGING&&(console.log("----------"),console.log("Receiving JSON object:"),console.log(e));for(var r=new t,o=0,i=Object.keys(r);o<i.length;o++){var a=i[o];this.deserializeObject_loopProperty(r,a,e)}return this.operationMode===n.OperationMode.LOGGING&&(console.log("Returning CLASS instance:"),console.log(r),console.log("----------")),r},e.prototype.deserializeArray=function(e,t){if(this.operationMode===n.OperationMode.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===n.ValueCheckingMode.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!=typeof e||e instanceof Array==!1)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeArray() is not of type array.\n");if(this.operationMode===n.OperationMode.DISABLE)return e;this.operationMode===n.OperationMode.LOGGING&&(console.log("----------"),console.log("Receiving JSON array:"),console.log(e));for(var r=[],o=0,i=e;o<i.length;o++){var a=i[o];r.push(this.deserializeObject(a,t))}return this.operationMode===n.OperationMode.LOGGING&&(console.log("Returning array of CLASS instances:"),console.log(r),console.log("----------")),r},e.prototype.serializeObject_loopProperty=function(e,t,r){var n=this.getClassPropertyMappingOptions(e,t);if(null!==n){var i=n.jsonPropertyName,a=n.expectedJsonType,s=n.isOptional,c=n.customConverter,l=e[t];if(void 0===l){if(s)return;throw new Error('Fatal error in JsonConvert. Failed to map the JavaScript instance of class "'+e[o.Settings.CLASS_IDENTIFIER]+'" to JSON because the defined class property "'+t+'" does not exist or is not defined:\n\n\tClass property: \n\t\t'+t+"\n\n\tJSON property: \n\t\t"+i+"\n\n")}if(!s||null!==l)try{r[i]=null!==c?c.serialize(l):this.verifyProperty(a,l,!0)}catch(r){throw new Error('Fatal error in JsonConvert. Failed to map the JavaScript instance of class "'+e[o.Settings.CLASS_IDENTIFIER]+'" to JSON because of a type error.\n\n\tClass property: \n\t\t'+t+"\n\n\tClass property value: \n\t\t"+l+"\n\n\tExpected type: \n\t\t"+this.getExpectedType(a)+"\n\n\tRuntime type: \n\t\t"+this.getTrueType(l)+"\n\n\tJSON property: \n\t\t"+i+"\n\n"+r.message+"\n")}}},e.prototype.deserializeObject_loopProperty=function(e,t,r){var n=this.getClassPropertyMappingOptions(e,t);if(null!==n){var i=n.jsonPropertyName,a=n.expectedJsonType,s=n.isOptional,c=n.customConverter,l=void 0;try{l=this.getObjectValue(r,i)}catch(e){}if(void 0===l){if(s)return;throw new Error('Fatal error in JsonConvert. Failed to map the JSON object to the class "'+e[o.Settings.CLASS_IDENTIFIER]+'" because the defined JSON property "'+i+'" does not exist:\n\n\tClass property: \n\t\t'+t+"\n\n\tJSON property: \n\t\t"+i+"\n\n")}if(!s||null!==l)try{e[t]=null!==c?c.deserialize(l):this.verifyProperty(a,l)}catch(r){throw new Error('Fatal error in JsonConvert. Failed to map the JSON object to the class "'+e[o.Settings.CLASS_IDENTIFIER]+'" because of a type error.\n\n\tClass property: \n\t\t'+t+"\n\n\tExpected type: \n\t\t"+this.getExpectedType(a)+"\n\n\tJSON property: \n\t\t"+i+"\n\n\tJSON type: \n\t\t"+this.getJsonType(l)+"\n\n\tJSON value: \n\t\t"+JSON.stringify(l)+"\n\n"+r.message+"\n")}}},e.prototype.getClassPropertyMappingOptions=function(e,t){var r=e[o.Settings.MAPPING_PROPERTY];if(void 0===r)return null;var n=e[o.Settings.CLASS_IDENTIFIER]+"."+t;if(void 0!==r[n])return r[n];var i=Object.keys(r).filter((function(e){return e.match("\\."+t+"$")}));return i.length>0?r[i[0]]:null},e.prototype.verifyProperty=function(e,t,r){if(e===i.Any||null===e||e===Object)return t;if(e instanceof Array==!1&&t instanceof Array==!1){if(void 0!==e&&e.prototype.hasOwnProperty(o.Settings.CLASS_IDENTIFIER)){if(null===t){if(this.valueCheckingMode!==n.ValueCheckingMode.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}return r?this.serializeObject(t):this.deserializeObject(t,e)}if(e===i.Any||null===e||e===Object){if(null===t){if(this.valueCheckingMode!==n.ValueCheckingMode.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}return t}if(e===String||e===Number||e===Boolean){if(null===t){if(this.valueCheckingMode===n.ValueCheckingMode.ALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}if(e===String&&"string"==typeof t||e===Number&&"number"==typeof t||e===Boolean&&"boolean"==typeof t)return t;if(this.ignorePrimitiveChecks)return t;throw new Error("\tReason: Given object does not match the expected primitive type.")}throw new Error("\tReason: Expected type is unknown. There might be multiple reasons for this:\n\t- You are missing the decorator @JsonObject (for object mapping)\n\t- You are missing the decorator @JsonConverter (for custom mapping) before your class definition\n\t- Your given class is undefined in the decorator because of circular dependencies")}if(e instanceof Array&&t instanceof Array){var a=[];if(0===t.length)return a;if(0===e.length)return t;for(var s=e.length<t.length,c=0;c<t.length;c++)s&&c>=e.length&&(e[c]=e[c-1]),a[c]=this.verifyProperty(e[c],t[c],r);return a}if(e instanceof Array&&t instanceof Object){a=[];if(0===t.length)return a;if(0===e.length)return t;s=e.length<Object.keys(t).length,c=0;for(var l in t)s&&c>=e.length&&(e[c]=e[c-1]),a[l]=this.verifyProperty(e[c],t[l]),c++;return a}if(e instanceof Array){if(null===t){if(this.valueCheckingMode!==n.ValueCheckingMode.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}throw new Error("\tReason: Expected type is array, but given value is non-array.")}if(t instanceof Array)throw new Error("\tReason: Given value is array, but expected a non-array type.");throw new Error("\tReason: Mapping failed because of an unknown error.")},e.prototype.getObjectValue=function(e,t){if(this.propertyMatchingRule===n.PropertyMatchingRule.CASE_INSENSITIVE){var r=Object.keys(e).reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{});t=r[t.toLowerCase()]}if(t in e==!1)throw new Error;return e[t]},e.prototype.getExpectedType=function(e){var t="";if(e instanceof Array){t="[";for(var r=0;r<e.length;r++)r>0&&(t+=","),t+=this.getExpectedType(e[r]);return t+="]"}return e===i.Any||null===e||e===Object?"any":e===String||e===Boolean||e===Number?(new e).constructor.name.toLowerCase():"function"==typeof e?(new e).constructor.name:void 0===e?"undefined":"?????"},e.prototype.getJsonType=function(e){if(null===e)return"null";var t="";if(e instanceof Array){t="[";for(var r=0;r<e.length;r++)r>0&&(t+=","),t+=this.getJsonType(e[r]);return t+="]"}return typeof e},e.prototype.getTrueType=function(e){return typeof e},e}();t.JsonConvert=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(1);t.JsonConverter=function(e){e[n.Settings.MAPPER_PROPERTY]=""},t.JsonObject=function(e){var t="",r=function(e){e.prototype[n.Settings.CLASS_IDENTIFIER]=t.length>0?t:e.name;var r=e.prototype[n.Settings.MAPPING_PROPERTY];if(r)for(var o=0,i=Object.keys(r).filter((function(e){return 0===e.indexOf(n.Settings.CLASS_IDENTIFIER+".")}));o<i.length;o++){var a=i[o];r[a.replace(n.Settings.CLASS_IDENTIFIER,e.prototype[n.Settings.CLASS_IDENTIFIER])]=r[a],delete r[a]}};switch(typeof e){case"string":return t=e,r;case"function":return void r(e);case"undefined":return r;default:throw new Error("Fatal error in JsonConvert. It is mandatory to pass a string as parameter in the @JsonObject decorator.\n\nUse either @JsonObject or @JsonObject(classId) where classId is a string.\n\n")}},t.JsonProperty=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,r){var i=r,a=o.Any,s=!1;switch(e.length){case 1:if(void 0===e[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+r+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");i=e[0];break;case 2:if(void 0===e[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+r+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");if(void 0===e[1])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as second parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+r+'\n\nUse "Any" to allow any type. You can import this class from "json2typescript".\n\n');i=e[0],a=e[1];break;case 3:if(void 0===e[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+r+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");if(void 0===e[1])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as second parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+r+'\n\nUse "Any" to allow any type. You can import this class from "json2typescript".\n\n');i=e[0],a=e[1],s=e[2]}void 0===t[n.Settings.MAPPING_PROPERTY]&&(t[n.Settings.MAPPING_PROPERTY]=[]);var c=new n.MappingOptions;if(c.classPropertyName=r,c.jsonPropertyName=i,c.isOptional=s||!1,null!=a&&void 0!==a[n.Settings.MAPPER_PROPERTY]?c.customConverter=new a:c.expectedJsonType=a,void 0!==t[n.Settings.MAPPING_PROPERTY][n.Settings.CLASS_IDENTIFIER+"."+r])throw new Error("Fatal error in JsonConvert. It is not allowed to add multiple decorators for the same property.\n\n\tClass property: \n\t\t"+r+"\n\n");t[n.Settings.MAPPING_PROPERTY][n.Settings.CLASS_IDENTIFIER+"."+r]=c}}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=new n.JsonConvert;o.ignorePrimitiveChecks=!1,o.valueCheckingMode=n.ValueCheckingMode.ALLOW_NULL;var i=o;function a(e){return i.serializeObject(e)}function s(e){return e.map((function(e){return a(e)}))}function c(e,t){return i.deserializeObject(e,t)}function l(e,t){return e.map((function(e){return c(e,t)}))}function u(e,t){var r=new Map;return e.forEach((function(e,n){r.set(n,c(e,t))})),r}function p(e,t){var r=new Set;return e.forEach((function(e){return r.add(c(e,t))})),r}function f(e,t){return c(a(e),t)}function d(e,t){return e.map((function(e){return a(e)})).map((function(e){return c(e,t)}))}function y(e,t){var r=new Map;return e.forEach((function(e,n){r.set(n,f(e,t))})),r}function h(e,t){var r=new Set;return e.forEach((function(e){r.add(c(e,t))})),r}var v=r(4),g=r.n(v),O=r(5),C=r.n(O);function S(e){"number"==typeof e?10===e.toString().length&&(e*=1e3):"string"==typeof e?e=e.replace(/\-/g,"/").replace("T"," ").replace(/\.[\s\S]*/g,""):e instanceof Date&&(e=e.getTime());try{return new Date(e)}catch(t){throw console.error("convert to date failed! source: ",e),t}}var b=function(){function e(){g()(this,e)}return C()(e,[{key:"serialize",value:function(e){return e?e.getTime():null}},{key:"deserialize",value:function(e){return e?S(e):null}}]),e}(),E=b=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}([n.JsonConverter],b);r.d(t,"jsonConvert",(function(){return i})),r.d(t,"writer",(function(){return a})),r.d(t,"writerArray",(function(){return s})),r.d(t,"read",(function(){return c})),r.d(t,"readArray",(function(){return l})),r.d(t,"readMap",(function(){return u})),r.d(t,"readSet",(function(){return p})),r.d(t,"copy",(function(){return f})),r.d(t,"copyArray",(function(){return d})),r.d(t,"copyMap",(function(){return y})),r.d(t,"copySet",(function(){return h})),r.d(t,"DateConverter",(function(){return E}))}])}));
//# sourceMappingURL=object-mapper.min.js.map